# ExtractorPatternAgent Configuration

agent:
  # Claude model to use
  model: "claude-sonnet-4-5-20250929"

  # Maximum conversation turns
  max_turns: 20

  # Timeout in seconds
  timeout: 300

browser:
  # Run browser in headless mode
  headless: true

  # Page load timeout in milliseconds
  timeout: 30000

  # Browser viewport size
  viewport:
    width: 1920
    height: 1080

  # User agent string (optional, defaults to Chrome)
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"

validation:
  # Minimum confidence score for accepting patterns
  min_confidence: 0.7

  # Maximum retry attempts for pattern generation
  max_retries: 3

  # Number of test URLs per domain for validation
  test_urls_per_domain: 5

storage:
  # SQLite database file
  database: "patterns.db"

  # Enable automatic backups
  backup_enabled: true

  # Backup interval in seconds (24 hours)
  backup_interval: 86400

  # Backup retention in days
  backup_retention_days: 30

logging:
  # Logging level (DEBUG, INFO, WARNING, ERROR)
  level: "INFO"

  # Log file path (null for console only)
  file: null

  # Log format
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

extraction:
  # Fields to extract (can be customized)
  default_fields:
    - price
    - title
    - availability
    - image

  # Field-specific settings
  field_config:
    price:
      required: true
      validators:
        - type: "regex"
          pattern: "\\d+[.,]?\\d*"

    title:
      required: true
      validators:
        - type: "length"
          min: 5
          max: 200

    availability:
      required: false
      validators:
        - type: "keywords"
          keywords:
            - "in stock"
            - "out of stock"
            - "available"
            - "unavailable"

    image:
      required: false
      validators:
        - type: "url"
          extensions:
            - ".jpg"
            - ".jpeg"
            - ".png"
            - ".gif"
            - ".webp"
